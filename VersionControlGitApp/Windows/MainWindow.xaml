<Window x:Class="VersionControlGitApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        WindowStyle="SingleBorderWindow"
        Title="VersionControlGitApp" MinHeight="550" MinWidth="800" Height="500" Width="900" 
        Closed="Window_Closed" Background="{StaticResource DarkBackgroundColor}">

    <Window.CommandBindings>
        <CommandBinding Command="ApplicationCommands.Open" Executed="AddLocalRepository"/>
        <CommandBinding Command="ApplicationCommands.Copy" Executed="CloneRepository"/>
        <CommandBinding Command="ApplicationCommands.New" Executed="NewRepository"/>
    </Window.CommandBindings>

    <Window.InputBindings>
        <KeyBinding Command="ApplicationCommands.Open" Gesture="Ctrl+Shift+A"/>
        <KeyBinding Command="ApplicationCommands.Copy" Gesture="Ctrl+Shift+C"/>
        <KeyBinding Command="ApplicationCommands.New" Gesture="Ctrl+Shift+N"/>
    </Window.InputBindings>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition MinWidth="70" Width="70*"/>
            <ColumnDefinition MinWidth="90" Width="90*"/>
            <ColumnDefinition MinWidth="85" Width="85*"/>
            <ColumnDefinition Width="85*"/>
            <ColumnDefinition Width="85*"/>
            <ColumnDefinition Width="85*"/>
            <ColumnDefinition Width="159*"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition MinHeight="30" Height="15*"/>
            <RowDefinition MinHeight="60"/>
            <RowDefinition Height="25*"/>
            <RowDefinition Height="40*"/>
            <RowDefinition Height="40*"/>
            <RowDefinition Height="40*"/>
            <RowDefinition Height="40*"/>
            <RowDefinition Height="40*"/>
            <RowDefinition Height="30*"/>
            <RowDefinition MinHeight="110"/>
            <RowDefinition Height="20*"/>
        </Grid.RowDefinitions>

        <DockPanel Grid.Column="0" Grid.Row="0" Grid.ColumnSpan="5" Margin="0,0,0.6,0" Background="Black">
            <Menu IsMainMenu="True" DockPanel.Dock="Left" FontSize="18">
                <!-- Git menu -->
                <MenuItem Header="Git">
                    <MenuItem Header="Private Token" Padding="3" FontSize="14"/>
                </MenuItem>

                <!-- File menu -->
                <MenuItem Header="File">
                    <MenuItem InputGestureText="Ctrl+Shift+N" Click="NewRepository" Header="New Repository" Padding="3" FontSize="14"/>
                    <MenuItem InputGestureText="Ctrl+Shift+A" Click="AddLocalRepository" Header="Add Local Repository" Padding="3" FontSize="14"/>
                    <MenuItem InputGestureText="Ctrl+Shift+C" Click="CloneRepository" Header="Clone Repository" Padding="3" FontSize="14"/>
                </MenuItem>

                <!-- Accounts menu -->
                <MenuItem Header="Accounts">

                </MenuItem>

                <!-- Branch menu -->
                <MenuItem Header="Branch">
                    <MenuItem Focusable="False" IsCheckable="False" Header="New" InputGestureText="Ctrl+B+N" Click="CreateNewBranch" Padding="3" FontSize="14"/>
                    <MenuItem x:Name="ChangeBranchMenuItem" Header="Change" Padding="3" FontSize="14" >
                        <MenuItem.ItemContainerStyle>
                            <Style TargetType="{x:Type MenuItem}">
                                <EventSetter Event="Click" Handler="ChangeBranch"/>
                            </Style>
                        </MenuItem.ItemContainerStyle>
                    </MenuItem>
                    <MenuItem Header="Rename" InputGestureText="Ctrl+B+R" Click="RenameCurrentBranch" Padding="3" FontSize="14"/>
                    <MenuItem x:Name="MergeBranchMenuItem" Header="Merge current to" Padding="3" FontSize="14">
                        <MenuItem.ItemContainerStyle>
                            <Style TargetType="{x:Type MenuItem}">
                                <EventSetter Event="Click" Handler="MergeCurrentBranch"/>
                            </Style>
                        </MenuItem.ItemContainerStyle>
                    </MenuItem>
                    <MenuItem Header="Delete" InputGestureText="Ctrl+B+D" Click="DeleteCurrentBranch" Padding="3" FontSize="14" Margin="0 3 0 0"/>
                </MenuItem>

                <!-- Repository menu -->
                <MenuItem Header="Repository">
                    <MenuItem Header="Fetch" InputGestureText="Ctrl+Shift+F" Click="FetchExternalRepository" Padding="3" FontSize="14"/>
                    <MenuItem InputGestureText="Ctrl+P+O" Click="PushLocalRepository" Header="Push" Padding="3" FontSize="14"/>
                    <MenuItem InputGestureText="Ctrl+P+I" Click="PullExternalRepository" Header="Pull" Padding="3" FontSize="14"/>
                    <MenuItem InputGestureText="Shift+R" Header="Remove" Click="RemoveRepository" Padding="3" FontSize="14"/>
                    <MenuItem InputGestureText="Ctrl+Shift+R" Header="Delete" Click="DeleteRepository" Padding="3" FontSize="14" Margin="0 3 0 0"/>
                </MenuItem>

                <!-- Statistics menu -->
                <MenuItem Header="Statistics">

                </MenuItem>

                <!-- Team menu -->
                <MenuItem Header="Team">

                </MenuItem>
            </Menu>
        </DockPanel>

        <Border Grid.Column="0" Grid.Row="8" Grid.RowSpan="3" Grid.ColumnSpan="2"
                BorderThickness="3"
                Background="{StaticResource BlackColor}">

            <StackPanel>
                <Label Content="Summary" 
                       Foreground="{StaticResource WhiteTextColor}"
                       Margin="4,0,0,0"/>
                <TextBox x:Name="CommitSummary" 
                         Foreground="{StaticResource WhiteTextColor}"
                         Background="{StaticResource DarkBackgroundColor}"
                         BorderBrush="{StaticResource AccentsColor}"
                         HorizontalAlignment="Stretch" Padding="3" FontSize="14" Margin="8,0,8,0" 
                         VerticalAlignment="Center" TextWrapping="WrapWithOverflow"/>

                <Label Content="Description" 
                       Foreground="{StaticResource WhiteTextColor}"
                       Margin="4,0,0,0"/>
                <TextBox x:Name="CommitDescription" 
                         Foreground="{StaticResource WhiteTextColor}"
                         Background="{StaticResource DarkBackgroundColor}"
                         BorderBrush="{StaticResource AccentsColor}"
                         HorizontalAlignment="Stretch" Height="40" Padding="4" Margin="8,0,8,0" 
                         VerticalAlignment="Center" TextWrapping="Wrap"/>

                <!-- Commit button -->
                <Button Click="CommitRepository" 
                        Content="Commit to {branchName}"
                        Foreground="{StaticResource BlackColor}"
                        Background="{StaticResource AccentsColor}"
                        BorderThickness="0"
                        HorizontalAlignment="Stretch" 
                        FontWeight="ExtraBold"
                        Padding="15,5,15,5" Margin="8,8,8,0" FontSize="12"/>
            </StackPanel>
        </Border>

        <!-- Github user image -->
        <Image x:Name="UserImage" 
            Grid.Column="0" Grid.Row="1" Grid.RowSpan="1"/>

        <!-- Github user nick -->
        <Label 
            Foreground="{StaticResource WhiteTextColor}" 
            Grid.Column="1" Grid.Row="1" 
            VerticalAlignment="Stretch" HorizontalAlignment="Stretch">

            <Label.Content>
                <AccessText x:Name="UserName" FontSize="12" TextWrapping="Wrap" Text="Account name placeholder"/>
            </Label.Content>
        </Label>

        <StackPanel 
            Background="{StaticResource BlackColor}" 
            Grid.Row="1" Grid.Column="2" Grid.RowSpan="5" 
            Margin="0.2,0,0.6,41.873">

            <Label Content="Files to Commit" 
                   Foreground="{StaticResource WhiteTextColor}" 
                   FontSize="10" HorizontalAlignment="Center"/>

            <ListBox SelectionChanged="FilesToCommit_SelectionChanged" 
                     x:Name="FilesToCommit" 
                     Background="{StaticResource BlackColor}" 
                     Foreground="{StaticResource WhiteTextColor}" 
                     FontSize="12" HorizontalAlignment="Stretch" MinHeight="150"/>

        </StackPanel>

        <!-- Current repository path -->
        <TextBox x:Name="PathLabel" IsReadOnly="True"
               Foreground="{StaticResource WhiteTextColor}" 
               Background="{StaticResource BlackColor}"
               BorderBrush="{StaticResource AccentsColor}"
               VerticalAlignment="Center"
               Height="25"
               Margin="8,0,8,0"
               Grid.Column="3" Grid.Row="1" Grid.ColumnSpan="4"/>

        <!-- Current selected file content -->
        <TextBox x:Name="FileContent" IsReadOnly="True" Focusable="False" Margin="8,8,8,8"
            HorizontalContentAlignment="Left" VerticalContentAlignment="Top"
            Grid.Row="2" Grid.Column="3" Grid.ColumnSpan="4" Grid.RowSpan="8" 
            Foreground="{StaticResource WhiteTextColor}"
            Background="{StaticResource BlackColor}"
            BorderBrush="{StaticResource AccentsColor}">
        </TextBox>

        <!-- Listbox with added repositories -->
        <ScrollViewer Grid.Column="0" Grid.Row="3" Grid.ColumnSpan="2" Grid.RowSpan="5">
            <ListBox 
                x:Name="RepoListBox" 
                Foreground="{StaticResource WhiteTextColor}" 
                Background="{StaticResource GrayBackgroundColor}" 
                SelectionChanged="RepoListBox_SelectionChanged" 
                MinHeight="30" FontSize="16" 
                HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>

        </ScrollViewer>
    </Grid>
</Window>
